@model OFTENCOFTAPI.ViewModels.Account.CompleteRegistrationViewModel

@{
    ViewData["Title"] = "Login";
    Layout = "~/Views/Shared/_Layout1.cshtml";
}


<div>
    <!-- Content Header (Page header) -->
    <div class="container-fluid" style="margin-top:5%">
        <div class="row">
            <div class="col-lg-12">
                <h3 style="text-align:center;">Complete Registration</h3>
            </div>

        </div>
    </div><!-- /.container-fluid -->
    <!-- Main content -->
    <section class="content">
        @*<div class="container-fluid">*@
        <div class="row">
            <!-- left column -->
            <div class="col-md-6" style="float: none;margin: 0 auto;">
                <!-- general form elements -->
                <div class="card card-info">
                    <div class="card-header">
                        <h3 class="card-title">Enter a valid Username and Password</h3>
                    </div>
                    <!-- /.card-header -->
                    <!-- form start -->
                    <form id="formm" asp-controller="Account" asp-action="CompleteRegistration" method="post" class="form-horizontal" role="form">
                        <div class="card-body">
                            <div class="form-group">
                                <label>Email</label>
                                <input asp-for="Email" class="form-control" />
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>

                            @*<div class="form-group">
                                <label>Default Password</label>
                                <input value="@ViewBag.oldpassword" class="form-control" />
                                <span asp-validation-for="OldPassword" class="text-danger"></span>
                            </div>*@

                            <div class="form-group">
                                <label>New Password</label>
                                <input asp-for="Password" class="form-control" />
                                <span asp-validation-for="Password" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label>Confirm Password</label>
                                <input asp-for="ConfirmPassword" class="form-control" />
                                <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                            </div>
                        </div>
                        <!-- /.card-body -->

                        <div class="card-footer">
                            <button id="btn1" type="submit" class="btn btn-info mb-3">Submit</button>

                            <div id="load">Processing, please wait . . . <img src="~/theme/dist/img/beaneater.svg" /></div>


                            @*<p>Status: </p> <h3>@ViewBag</h3>*@

                            @if (ViewBag.error != "true")
                            {
                                @*<div id="querypass" class="alert alert-success alert-dismissible">
                                        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                                        <h5><i class="icon fas fa-check"></i> Successful</h5>
                                    </div>

                                    <p>Status: </p> <h5>@ViewBag.Status</h5>
                                    <p>Amount: </p> <h5>@ViewBag.Amount</h5>
                                    <p>RRR: </p> <h5>@ViewBag.RRR</h5>*@

                            }
                            else if (ViewBag.error == "true")
                            {
                                <div id="queryfail" class="alert alert-danger alert-dismissible">
                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>

                                    @if (ViewBag.Status == "Insufficent Funds")
                                    {
                                        <h5><i class="icon fas fa-exclamation-triangle"></i>Login Failed</h5>
                                    }
                                    else
                                    {

                                        <h5><i class="icon fas fa-exclamation-triangle"></i>Info</h5>

                                    }

                                </div>
                                <p>@ViewBag.message</p>
                            }
                        </div>


                    </form>

                </div>
                <!-- /.card -->
            </div>
        </div>
    </section>
</div>


<!-- /.content-wrapper -->

<script src="~/theme/plugins/jquery/jquery.min.js"></script>
<script>


    var $jq = jQuery.noConflict();
    $jq(document).ready(function () {

        $jq("#load").hide();

        $jq("#btn1").click(function () {
            $jq("#queryfail").hide();
            $jq("#querypass").hide();
            //$jq("#formm p,h3,h5").hide();
            $jq("#load").show();

        });
    });
</script>
